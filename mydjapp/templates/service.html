{% extends 'master_template.html' %}

{% block content %}
<script>
function showDetails()
{
 var xhttp = new XMLHttpRequest();
 xhttp.open("GET","https://jsonplaceholder.typicode.com/posts",true);
 xhttp.send();

 xhttp.onreadystatechange=function(){
    if(xhttp.status==200 && xhttp.readyState==4)
    {
     var userDetails=JSON.parse(xhttp.responseText);var table_str="<table class='table table-bordered'><tr><th>UserID</th><th>ID</th><th>Title</th><th>Body</th></tr>";
     
     for(let row of userDetails)
     {
       table_str+="<tr>";
       table_str+=("<td>"+row.userId+"</td>");
       table_str+=("<td>"+row.id+"</td>");
       table_str+=("<td>"+row.title+"</td>");
       table_str+=("<td>"+row.body+"</td>");
       table_str+="</tr>";              
     }

     table_str+="</table>";

     document.getElementById("result").innerHTML=table_str;    
    }       
 }
}    
/*function showDetails()
{
 var xhttp = new XMLHttpRequest();
 xhttp.open("GET","https://jsonplaceholder.typicode.com/posts",true);
 xhttp.send();

 xhttp.onreadystatechange=function(){
    if(xhttp.status==200 && xhttp.readyState==4)
    {
     document.getElementById("result").innerHTML=xhttp.responseText;    
    }       
 }
}*/    
</script>
                    <div class="row align-items-center">
                        <div class="col-lg-12 col-md-12">
                            <div class="section-header text-left">
                                <p>Welcome to Classified</p>
                                <h2>PostKrde.com , Service Page</h2>
                            </div>
                            <div class="about-text">
<button onclick="showDetails()" >Click Here To Make AJAX Code Work</button>    
<br/><br/>
<div id="result" ></div>
                            </div>
                        </div>
                    </div>
    {% endblock content %}


